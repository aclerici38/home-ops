---
apiVersion: v1
kind: Namespace
metadata:
  name: external-secrets
---
apiVersion: v1
kind: Namespace
metadata:
  name: onepassword-connect
---
apiVersion: v1
kind: Namespace
metadata:
  name: network
---
apiVersion: v1
kind: Namespace
metadata:
  name: flux-system
---
apiVersion: v1
kind: Secret
metadata:
  name: github-deploy-key
  namespace: flux-system
stringData:
  identity: |
    {{ ENV.FLUX_GITHUB_DEPLOY_KEY | indent(4) }}
  known_hosts: |
    {{ ENV.FLUX_GITHUB_PUBLIC_KEYS | indent(4) }}
---
apiVersion: v1
kind: Secret
metadata:
  name: onepassword-connect-secret
  namespace: onepassword-connect
stringData:
  1password-credentials.json: {{ ENV.ONEPASSWORD_CREDENTIALS_B64 }}
  token: {{ ENV.ONEPASSWORD_CONNECT_TOKEN }}
