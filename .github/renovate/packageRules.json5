{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  packageRules: [
    {
      description: ["Loose versioning for non-semver containers"],
      matchDatasources: ["docker"],
      matchPackagePatterns: ["searxng"],
      versioning: "loose",
    },
    {
      description: ["Custom versioning for calibre-web-automated (V)"],
      matchDatasources: ["docker"],
      matchPackagePatterns: ["calibre-web-automated"],
      versioning: "regex:^V(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$",
    },
    {
      description: "Envoy distroless",
      matchDatasources: ["docker"],
      matchPackagePatterns: ["envoyproxy/envoy"],
      versioning: "regex:^distroless-v(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$",
    },
    {
      description: "Opencloud unzip web extension",
      matchDatasources: ["docker"],
      matchPackagePatterns: ["opencloudeu/web-extensions"],
      versioning: "regex:^unzip-(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$",
    },
    {
      description: "Vectorchord imageVolume pg extension",
      matchDatasources: ["docker"],
      matchPackagePatterns: ["tensorchord/vchord-scratch"],
      versioning: "regex:^pg18-v(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$",
    },
    {
      description: "Vectorchord imageVolume pg extension (immich versioned)",
      matchDatasources: ["docker"],
      matchPackagePatterns: ["tensorchord/vchord-scratch"],
      matchFileNames: ["**/immich/**"],
      versioning: "regex:^pg18-v(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$",
      // https://github.com/immich-app/immich/blob/main/server/src/constants.ts
      allowedVersions: "/^pg18-v1\\.\\d+\\.\\d+$/",
    },
    {
      description: "VectorChord CNPG extension (immich versioned)",
      matchDatasources: ["github-releases"],
      matchPackagePatterns: ["tensorchord/VectorChord"],
      matchFileNames: ["**/immich/**"],
      allowedVersions: "/^1\\.\\d+\\.\\d+$/",
    },
    {
      description: "Frigate beta and RC",
      matchDatasources: ["docker"],
      matchPackagePatterns: ["blakeblackshear/frigate"],
      ignoreUnstable: false,
      respectLatest: false,
      versioning: "semver",
      matchFileNames: ["**/frigate/**"],
      allowedVersions: "/^\\d+\\.\\d+\\.\\d+(?:-(?:beta\\d*|rc\\d*))?$/i",
    },
  ],
}
